{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 01d3dbceccfcb3db5aa7","webpack:///./lib/utils.js","webpack:///./lib/mappersmith.js","webpack:///./lib/response.js","webpack:///./lib/index.js","webpack:///./lib/client-builder.js","webpack:///./lib/manifest.js","webpack:///./lib/method-descriptor.js","webpack:///./lib/request.js","webpack:///./lib/gateway/xhr.js","webpack:///./lib/gateway.js","webpack:///./gateway/http (ignored)"],"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","toQueryString","performanceNow","parseResponseHeaders","lowerCaseObjectKeys","isPlainObject","_process","getNanoSeconds","loadTime","eval","e","hasProcessHrtime","hrtime","hr","R20","validKeys","entry","keys","filter","key","undefined","buildRecursive","suffix","isArray","Array","isObject","encodeURIComponent","map","v","join","k","replace","Date","now","headerStr","headers","headerPairs","split","i","length","headerPair","index","indexOf","substring","toLowerCase","val","trim","reduce","target","hasOwnProperty","assign","arguments","source","call","toString","getPrototypeOf","CHARS","btoa","input","output","str","String","block","charCode","idx","charAt","charCodeAt","Error","configs","default","forge","_clientBuilder","require","_clientBuilder2","_interopRequireDefault","__esModule","Promise","fetch","gateway","gatewayConfigs","emulateHTTP","XHR","withCredentials","configure","HTTP","Fetch","credentials","manifest","GatewayClassFactory","build","_utils","Response","originalRequest","responseStatus","responseData","responseHeaders","requestParams","auth","maskedAuth","password","enhance","timeElapsed","request","status","success","header","name","rawData","data","isContentTypeJSON","JSON","parse","test","extras","lib","defaultGateway","XMLHttpRequest","module","_manifest","_manifest2","_request","_request2","_defineProperty","enumerable","configurable","writable","ClientBuilder","defaultGatewayConfigs","_this","client","eachResource","methods","buildResource","resourceName","_this2","resource","method","descriptor","invokeMiddlewares","resourceMethod","initialRequest","middlewares","createMiddlewares","finalRequest","middleware","GatewayClass","callGateway","execute","next","response","_methodDescriptor","_methodDescriptor2","Manifest","host","resources","callback","forEach","eachMethod","methodName","createMethodDescriptor","definition","path","args","createInstance","middlewareFactory","MethodDescriptor","params","binary","bodyAttr","headersAttr","authAttr","timeoutAttr","REGEXP_DYNAMIC_SEGMENT","RegExp","Request","methodDescriptor","isParam","pattern","missingDynamicSegmentMatch","match","queryString","url","body","timeout","headerKey","bodyKey","authKey","timeoutKey","isBinary","_gateway","_gateway2","_response","_response2","toBase64","window","apply","extends","get","xmlHttpRequest","createXHR","open","setHeaders","configureTimeout","send","post","performRequest","put","patch","delete","_delete","canceled","timer","addEventListener","clearTimeout","dispatchClientError","setTimeout","configureCallbacks","dispatchResponse","createResponse","xhrOptions","options","requestMethod","shouldEmulateHTTP","customHeaders","prepareBody","push","responseText","getAllResponseHeaders","username","headerName","setRequestHeader","responseType","_mappersmith","Gateway","successCallback","failCallback","_arguments","timeStart","resolve","reject","message","_method","bodyString"],"mappings":"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","file":"mappersmith.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mappersmith\"] = factory();\n\telse\n\t\troot[\"mappersmith\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 01d3dbceccfcb3db5aa7","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.toQueryString = toQueryString;\nexports.performanceNow = performanceNow;\nexports.parseResponseHeaders = parseResponseHeaders;\nexports.lowerCaseObjectKeys = lowerCaseObjectKeys;\nexports.isPlainObject = isPlainObject;\nvar _process = void 0,\n    getNanoSeconds = void 0,\n    loadTime = void 0;\ntry {\n  _process = eval('typeof __TEST_WEB__ === \"undefined\" && typeof process === \"object\" ? process : undefined');\n} catch (e) {} // eslint-disable-line no-eval\n\nvar hasProcessHrtime = function hasProcessHrtime() {\n  return typeof _process !== 'undefined' && _process !== null && _process.hrtime;\n};\n\nif (hasProcessHrtime()) {\n  getNanoSeconds = function getNanoSeconds() {\n    var hr = _process.hrtime();\n    return hr[0] * 1e9 + hr[1];\n  };\n  loadTime = getNanoSeconds();\n}\n\nvar R20 = /%20/g;\n\nvar validKeys = function validKeys(entry) {\n  return Object.keys(entry).filter(function (key) {\n    return entry[key] !== undefined && entry[key] !== null;\n  });\n};\n\nvar buildRecursive = function buildRecursive(key, value, suffix) {\n  suffix = suffix || '';\n  var isArray = Array.isArray(value);\n  var isObject = (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n\n  if (!isArray && !isObject) {\n    return encodeURIComponent(key + suffix) + '=' + encodeURIComponent(value);\n  }\n\n  if (isArray) {\n    return value.map(function (v) {\n      return buildRecursive(key, v, suffix + '[]');\n    }).join('&');\n  }\n\n  return validKeys(value).map(function (k) {\n    return buildRecursive(key, value[k], suffix + '[' + k + ']');\n  }).join('&');\n};\n\nfunction toQueryString(entry) {\n  if (!isPlainObject(entry)) {\n    return entry;\n  }\n\n  return validKeys(entry).map(function (key) {\n    return buildRecursive(key, entry[key]);\n  }).join('&').replace(R20, '+');\n}\n\n/**\n * Gives time in miliseconds, but with sub-milisecond precision for Browser\n * and Nodejs\n */\nfunction performanceNow() {\n  if (hasProcessHrtime()) {\n    return (getNanoSeconds() - loadTime) / 1e6;\n  }\n\n  return Date.now();\n}\n\n/**\n * borrowed from: {@link https://gist.github.com/monsur/706839}\n * XmlHttpRequest's getAllResponseHeaders() method returns a string of response\n * headers according to the format described here:\n * {@link http://www.w3.org/TR/XMLHttpRequest/#the-getallresponseheaders-method}\n * This method parses that string into a user-friendly key/value pair object.\n */\nfunction parseResponseHeaders(headerStr) {\n  var headers = {};\n  if (!headerStr) {\n    return headers;\n  }\n\n  var headerPairs = headerStr.split('\\r\\n');\n  for (var i = 0; i < headerPairs.length; i++) {\n    var headerPair = headerPairs[i];\n    // Can't use split() here because it does the wrong thing\n    // if the header value has the string \": \" in it.\n    var index = headerPair.indexOf(': ');\n    if (index > 0) {\n      var key = headerPair.substring(0, index).toLowerCase();\n      var val = headerPair.substring(index + 2).trim();\n      headers[key] = val;\n    }\n  }\n  return headers;\n}\n\nfunction lowerCaseObjectKeys(obj) {\n  return Object.keys(obj).reduce(function (target, key) {\n    target[key.toLowerCase()] = obj[key];\n    return target;\n  }, {});\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar assign = exports.assign = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\n\nvar toString = Object.prototype.toString;\nfunction isPlainObject(value) {\n  return toString.call(value) === '[object Object]' && Object.getPrototypeOf(value) === Object.getPrototypeOf({});\n}\n\n/**\n * borrowed from: {@link https://github.com/davidchambers/Base64.js}\n */\nvar CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\nvar btoa = exports.btoa = function btoa(input) {\n  var output = '';\n  var map = CHARS;\n  var str = String(input);\n  for (\n  // initialize result and counter\n  var block, charCode, idx = 0;\n  // if the next str index does not exist:\n  //   change the mapping table to \"=\"\n  //   check if d has no fractional digits\n  str.charAt(idx | 0) || (map = '=', idx % 1);\n  // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n  output += map.charAt(63 & block >> 8 - idx % 1 * 8)) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new Error(\"[Mappersmith] 'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n};\n\n\n// WEBPACK FOOTER //\n// ./lib/utils.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.configs = undefined;\nexports.default = forge;\n\nvar _clientBuilder = require('./client-builder');\n\nvar _clientBuilder2 = _interopRequireDefault(_clientBuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar configs = exports.configs = {\n  Promise: typeof Promise === 'function' ? Promise : null,\n  fetch: typeof fetch === 'function' ? fetch : null, // eslint-disable-line no-undef\n\n  /**\n   * Gateway implementation, it defaults to \"lib/gateway/xhr\" for browsers and\n   * \"lib/gateway/http\" for node\n   */\n  gateway: null,\n  gatewayConfigs: {\n    /**\n     * Setting this option will fake PUT, PATCH and DELETE requests with a HTTP POST. It will\n     * add \"_method\" and \"X-HTTP-Method-Override\" with the original requested method\n     * @default false\n     */\n    emulateHTTP: false,\n\n    XHR: {\n      /**\n       * Indicates whether or not cross-site Access-Control requests should be made using credentials\n       * such as cookies, authorization headers or TLS client certificates.\n       * Setting withCredentials has no effect on same-site requests\n       *\n       * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials\n       *\n       * @default false\n       */\n      withCredentials: false,\n\n      /**\n       * For aditional configurations to the XMLHttpRequest object.\n       * @param {XMLHttpRequest} xhr\n       * @default null\n       */\n      configure: null\n    },\n\n    HTTP: {\n      /**\n       * For aditional configurations to the http/https module\n       * For http: https://nodejs.org/api/http.html#http_http_request_options_callback\n       * For https: https://nodejs.org/api/https.html#https_https_request_options_callback\n       *\n       * @param {object} options\n       * @default null\n       */\n      configure: null\n    },\n\n    Fetch: {\n      /**\n       * Indicates whether the user agent should send cookies from the other domain in the case of cross-origin\n       * requests. This is similar to XHRâ€™s withCredentials flag, but with three available values (instead of two):\n       *\n       * \"omit\": Never send cookies.\n       * \"same-origin\": Only send cookies if the URL is on the same origin as the calling script.\n       * \"include\": Always send cookies, even for cross-origin calls.\n       *\n       * https://developer.mozilla.org/en-US/docs/Web/API/Request/credentials\n       *\n       * @default \"omit\"\n       */\n      credentials: 'omit'\n    }\n  }\n\n  /**\n   * @param {Object} manifest\n   */\n};function forge(manifest) {\n  var GatewayClassFactory = function GatewayClassFactory() {\n    return configs.gateway;\n  };\n  return new _clientBuilder2.default(manifest, GatewayClassFactory, configs.gatewayConfigs).build();\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/mappersmith.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\n/**\n * @typedef Response\n * @param {Request} originalRequest, for auth it hides the password\n * @param {Integer} responseStatus\n * @param {String} responseData, defaults to null\n * @param {Object} responseHeaders, defaults to an empty object ({})\n */\nfunction Response(originalRequest, responseStatus, responseData, responseHeaders) {\n  if (originalRequest.requestParams && originalRequest.requestParams.auth) {\n    var maskedAuth = (0, _utils.assign)({}, originalRequest.requestParams.auth, { password: '***' });\n    this.originalRequest = originalRequest.enhance({ auth: maskedAuth });\n  } else {\n    this.originalRequest = originalRequest;\n  }\n\n  this.responseStatus = responseStatus;\n  this.responseData = responseData !== undefined ? responseData : null;\n  this.responseHeaders = responseHeaders || {};\n  this.timeElapsed = null;\n}\n\nResponse.prototype = {\n  /**\n   * @return {Request}\n   */\n  request: function request() {\n    return this.originalRequest;\n  },\n\n\n  /**\n   * @return {Integer}\n   */\n  status: function status() {\n    // IE sends 1223 instead of 204\n    if (this.responseStatus === 1223) {\n      return 204;\n    }\n\n    return this.responseStatus;\n  },\n\n\n  /**\n   * Returns true if status is greater or equal 200 or lower than 400\n   *\n   * @return {Boolean}\n   */\n  success: function success() {\n    var status = this.status();\n    return status >= 200 && status < 400;\n  },\n\n\n  /**\n   * Returns an object with the headers. Header names are converted to\n   * lowercase\n   *\n   * @return {Object}\n   */\n  headers: function headers() {\n    return (0, _utils.lowerCaseObjectKeys)(this.responseHeaders);\n  },\n\n\n  /**\n   * Utility method to get a header value by name\n   *\n   * @param {String} name\n   *\n   * @return {String|Undefined}\n   */\n  header: function header(name) {\n    return this.headers()[name.toLowerCase()];\n  },\n\n\n  /**\n   * Returns the original response data\n   */\n  rawData: function rawData() {\n    return this.responseData;\n  },\n\n\n  /**\n   * Returns the response data, if \"Content-Type\" is \"application/json\"\n   * it parses the response and returns an object\n   *\n   * @return {String|Object}\n   */\n  data: function data() {\n    var data = this.responseData;\n\n    if (this.isContentTypeJSON()) {\n      try {\n        data = JSON.parse(this.responseData);\n      } catch (e) {}\n    }\n\n    return data;\n  },\n  isContentTypeJSON: function isContentTypeJSON() {\n    return (/application\\/json/.test(this.headers()['content-type'])\n    );\n  },\n\n\n  /**\n   * Enhances current Response returning a new Response\n   *\n   * @param {Object} extras\n   *   @param {Integer} extras.status - it will replace the current status\n   *   @param {String} extras.rawData - it will replace the current rawStatus\n   *   @param {Object} extras.headers - it will be merged with current headers\n   *\n   * @return {Response}\n   */\n  enhance: function enhance(extras) {\n    return new Response(this.request(), extras.status || this.status(), extras.rawData || this.rawData(), (0, _utils.assign)({}, this.headers(), extras.headers));\n  }\n};\n\nexports.default = Response;\n\n\n// WEBPACK FOOTER //\n// ./lib/response.js","'use strict';\n\nvar lib = require('./mappersmith');\nvar _process, defaultGateway;\n\n// Prevents webpack to load the nodejs processs polyfill\ntry {\n  _process = eval('typeof process === \"object\" ? process : undefined');\n} catch (e) {} // eslint-disable-line no-eval\n\nif (typeof XMLHttpRequest !== 'undefined') {\n  // For browsers use XHR adapter\n  defaultGateway = require('./gateway/xhr').default;\n} else if (typeof _process !== 'undefined') {\n  // For node use HTTP adapter\n  defaultGateway = require('./gateway/http').default;\n}\n\nlib.configs.gateway = defaultGateway;\nmodule.exports = lib;\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _manifest = require('./manifest');\n\nvar _manifest2 = _interopRequireDefault(_manifest);\n\nvar _request = require('./request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * @typedef ClientBuilder\n * @param {Object} manifest - manifest definition with at least the `resources` key\n * @param {Function} GatewayClassFactory - factory function that returns a gateway class\n */\nfunction ClientBuilder(manifest, GatewayClassFactory, defaultGatewayConfigs) {\n  if (!manifest) {\n    throw new Error('[Mappersmith] invalid manifest (' + manifest + ')');\n  }\n\n  if (!GatewayClassFactory || !GatewayClassFactory()) {\n    throw new Error('[Mappersmith] gateway class not configured (configs.gateway)');\n  }\n\n  this.manifest = new _manifest2.default(manifest, defaultGatewayConfigs);\n  this.GatewayClassFactory = GatewayClassFactory;\n}\n\nClientBuilder.prototype = {\n  build: function build() {\n    var _this = this;\n\n    var client = { _manifest: this.manifest };\n\n    this.manifest.eachResource(function (name, methods) {\n      client[name] = _this.buildResource(name, methods);\n    });\n\n    return client;\n  },\n  buildResource: function buildResource(resourceName, methods) {\n    var _this2 = this;\n\n    return methods.reduce(function (resource, method) {\n      return (0, _utils.assign)(resource, _defineProperty({}, method.name, function (requestParams) {\n        var request = new _request2.default(method.descriptor, requestParams);\n        return _this2.invokeMiddlewares(resourceName, method.name, request);\n      }));\n    }, {});\n  },\n  invokeMiddlewares: function invokeMiddlewares(resourceName, resourceMethod, initialRequest) {\n    var middlewares = this.manifest.createMiddlewares({ resourceName: resourceName, resourceMethod: resourceMethod });\n    var finalRequest = middlewares.reduce(function (request, middleware) {\n      return middleware.request(request);\n    }, initialRequest);\n\n    var GatewayClass = this.GatewayClassFactory();\n    var gatewayConfigs = this.manifest.gatewayConfigs;\n    var callGateway = function callGateway() {\n      return new GatewayClass(finalRequest, gatewayConfigs).call();\n    };\n\n    var execute = middlewares.reduce(function (next, middleware) {\n      return function () {\n        return middleware.response(next);\n      };\n    }, callGateway);\n\n    return execute();\n  }\n};\n\nexports.default = ClientBuilder;\n\n\n// WEBPACK FOOTER //\n// ./lib/client-builder.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _methodDescriptor = require('./method-descriptor');\n\nvar _methodDescriptor2 = _interopRequireDefault(_methodDescriptor);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @typedef Manifest\n * @param {Object} obj\n *   @param {String} obj.host\n *   @param {Object} obj.gatewayConfigs - default: base values from mappersmith\n *   @param {Object} obj.resources - default: {}\n *   @param {Array}  obj.middlewares - default: []\n */\nfunction Manifest(obj) {\n  var defaultGatewayConfigs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n  this.host = obj.host;\n  this.gatewayConfigs = (0, _utils.assign)({}, defaultGatewayConfigs, obj.gatewayConfigs);\n  this.resources = obj.resources || {};\n  this.middlewares = obj.middlewares || [];\n}\n\nManifest.prototype = {\n  eachResource: function eachResource(callback) {\n    var _this = this;\n\n    Object.keys(this.resources).forEach(function (resourceName) {\n      var methods = _this.eachMethod(resourceName, function (methodName) {\n        return {\n          name: methodName,\n          descriptor: _this.createMethodDescriptor(resourceName, methodName)\n        };\n      });\n\n      callback(resourceName, methods);\n    });\n  },\n  eachMethod: function eachMethod(resourceName, callback) {\n    return Object.keys(this.resources[resourceName]).map(function (name) {\n      return callback(name);\n    });\n  },\n  createMethodDescriptor: function createMethodDescriptor(resourceName, methodName) {\n    var definition = this.resources[resourceName][methodName];\n\n    if (!definition || !definition.path) {\n      throw new Error('[Mappersmith] path is undefined for resource \"' + resourceName + '\" method \"' + methodName + '\"');\n    }\n\n    return new _methodDescriptor2.default((0, _utils.assign)({ host: this.host }, definition));\n  },\n\n\n  /**\n   * @param {Object} args\n   *   @param {String} args.resourceName\n   *   @param {String} args.resourceMethod\n   *   @param {Boolean} args.mockRequest\n   *\n   * @return {Array<Object>}\n   */\n  createMiddlewares: function createMiddlewares() {\n    var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var createInstance = function createInstance(middlewareFactory) {\n      return (0, _utils.assign)({\n        request: function request(_request) {\n          return _request;\n        },\n        response: function response(next) {\n          return next();\n        }\n      }, middlewareFactory(args));\n    };\n\n    return this.middlewares.map(function (middleware) {\n      return createInstance(middleware);\n    });\n  }\n};\n\nexports.default = Manifest;\n\n\n// WEBPACK FOOTER //\n// ./lib/manifest.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = MethodDescriptor;\n/**\n * @typedef MethodDescriptor\n * @param {Object} obj\n *   @param {String} obj.host\n *   @param {String} obj.path\n *   @param {String} obj.method\n *   @param {Object} obj.headers\n *   @param {Object} obj.params\n *   @param {String} obj.bodyAttr - body attribute name. Default: 'body'\n *   @param {String} obj.headersAttr - headers attribute name. Default: 'headers'\n *   @param {String} obj.authAttr - auth attribute name. Default: 'auth'\n *   @param {Number} obj.timeoutAttr - timeout attribute name. Default: 'timeout'\n */\nfunction MethodDescriptor(obj) {\n  this.host = obj.host;\n  this.path = obj.path;\n  this.method = obj.method || 'get';\n  this.headers = obj.headers;\n  this.params = obj.params;\n  this.binary = obj.binary || false;\n\n  this.bodyAttr = obj.bodyAttr || 'body';\n  this.headersAttr = obj.headersAttr || 'headers';\n  this.authAttr = obj.authAttr || 'auth';\n  this.timeoutAttr = obj.timeoutAttr || 'timeout';\n}\n\n\n// WEBPACK FOOTER //\n// ./lib/method-descriptor.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\nvar REGEXP_DYNAMIC_SEGMENT = new RegExp('{([^}]+)}');\n\n/**\n * @typedef Request\n * @param {MethodDescriptor} methodDescriptor\n * @param {Object} requestParams, defaults to an empty object ({})\n */\nfunction Request(methodDescriptor, requestParams) {\n  this.methodDescriptor = methodDescriptor;\n  this.requestParams = requestParams || {};\n}\n\nRequest.prototype = {\n  /**\n   * @return {Object}\n   */\n  params: function params() {\n    var _this = this;\n\n    var params = (0, _utils.assign)({}, this.methodDescriptor.params, this.requestParams);\n\n    var isParam = function isParam(key) {\n      return key !== _this.methodDescriptor.headersAttr && key !== _this.methodDescriptor.bodyAttr && key !== _this.methodDescriptor.authAttr && key !== _this.methodDescriptor.timeoutAttr;\n    };\n\n    return Object.keys(params).reduce(function (obj, key) {\n      if (isParam(key)) {\n        obj[key] = params[key];\n      }\n      return obj;\n    }, {});\n  },\n\n\n  /**\n   * Returns the HTTP method in lowercase\n   *\n   * @return {String}\n   */\n  method: function method() {\n    return this.methodDescriptor.method.toLowerCase();\n  },\n\n\n  /**\n   * Returns host name without trailing slash\n   * Example: http://example.org\n   *\n   * @return {String}\n   */\n  host: function host() {\n    return (this.methodDescriptor.host || '').replace(/\\/$/, '');\n  },\n\n\n  /**\n   * Returns path with parameters and leading slash.\n   * Example: /some/path?param1=true\n   *\n   * @throws {Error} if any dynamic segment is missing.\n   * Example:\n   * Imagine the path '/some/{name}', the error will be similar to:\n   * '[Mappersmith] required parameter missing (name), \"/some/{name}\" cannot be resolved'\n   *\n   * @return {String}\n   */\n  path: function path() {\n    var path = this.methodDescriptor.path;\n\n    if (this.methodDescriptor.path[0] !== '/') {\n      path = '/' + this.methodDescriptor.path;\n    }\n\n    var params = this.params();\n    Object.keys(params).forEach(function (key) {\n      var value = params[key];\n      var pattern = '{' + key + '}';\n\n      if (new RegExp(pattern).test(path)) {\n        path = path.replace('{' + key + '}', value);\n        delete params[key];\n      }\n    });\n\n    var missingDynamicSegmentMatch = path.match(REGEXP_DYNAMIC_SEGMENT);\n    if (missingDynamicSegmentMatch) {\n      throw new Error('[Mappersmith] required parameter missing (' + missingDynamicSegmentMatch[1] + '), \"' + path + '\" cannot be resolved');\n    }\n\n    var queryString = (0, _utils.toQueryString)(params);\n    if (queryString.length !== 0) {\n      path += '?' + queryString;\n    }\n\n    return path;\n  },\n\n\n  /**\n   * Returns the full URL\n   * Example: http://example.org/some/path?param1=true\n   *\n   * @return {String}\n   */\n  url: function url() {\n    return '' + this.host() + this.path();\n  },\n\n\n  /**\n   * Returns an object with the headers. Header names are converted to\n   * lowercase\n   *\n   * @return {Object}\n   */\n  headers: function headers() {\n    return (0, _utils.lowerCaseObjectKeys)((0, _utils.assign)({}, this.methodDescriptor.headers, this.requestParams[this.methodDescriptor.headersAttr]));\n  },\n  body: function body() {\n    return this.requestParams[this.methodDescriptor.bodyAttr];\n  },\n  auth: function auth() {\n    return this.requestParams[this.methodDescriptor.authAttr];\n  },\n  timeout: function timeout() {\n    return this.requestParams[this.methodDescriptor.timeoutAttr];\n  },\n\n\n  /**\n   * Enhances current request returning a new Request\n   * @param {Object} extras\n   *   @param {Object} extras.params - it will be merged with current params\n   *   @param {Object} extras.headers - it will be merged with current headers\n   *   @param {String|Object} extras.body - it will replace the current body\n   *   @param {Object} extras.auth - it will replace the current auth\n   *   @param {Number} extras.timeout - it will replace the current timeout\n   */\n  enhance: function enhance(extras) {\n    var headerKey = this.methodDescriptor.headersAttr;\n    var bodyKey = this.methodDescriptor.bodyAttr;\n    var authKey = this.methodDescriptor.authAttr;\n    var timeoutKey = this.methodDescriptor.timeoutAttr;\n    var requestParams = (0, _utils.assign)({}, this.requestParams, extras.params);\n\n    requestParams[headerKey] = (0, _utils.assign)({}, this.requestParams[headerKey], extras.headers);\n    extras.body && (requestParams[bodyKey] = extras.body);\n    extras.auth && (requestParams[authKey] = extras.auth);\n    extras.timeout && (requestParams[timeoutKey] = extras.timeout);\n\n    return new Request(this.methodDescriptor, requestParams);\n  },\n\n\n  /**\n   * Is the request expecting a binary response?\n   *\n   * @return {Boolean}\n   */\n  isBinary: function isBinary() {\n    return this.methodDescriptor.binary;\n  }\n};\n\nexports.default = Request;\n\n\n// WEBPACK FOOTER //\n// ./lib/request.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gateway = require('../gateway');\n\nvar _gateway2 = _interopRequireDefault(_gateway);\n\nvar _response = require('../response');\n\nvar _response2 = _interopRequireDefault(_response);\n\nvar _utils = require('../utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar toBase64 = window.btoa || _utils.btoa;\n\nfunction XHR(request) {\n  _gateway2.default.apply(this, arguments);\n}\n\nXHR.prototype = _gateway2.default.extends({\n  get: function get() {\n    var xmlHttpRequest = this.createXHR();\n    xmlHttpRequest.open('get', this.request.url(), true);\n    this.setHeaders(xmlHttpRequest, {});\n    this.configureTimeout(xmlHttpRequest);\n    xmlHttpRequest.send();\n  },\n  post: function post() {\n    this.performRequest('post');\n  },\n  put: function put() {\n    this.performRequest('put');\n  },\n  patch: function patch() {\n    this.performRequest('patch');\n  },\n  delete: function _delete() {\n    this.performRequest('delete');\n  },\n  configureTimeout: function configureTimeout(xmlHttpRequest) {\n    var _this = this;\n\n    this.canceled = false;\n    this.timer = null;\n\n    var timeout = this.request.timeout();\n\n    if (timeout) {\n      xmlHttpRequest.timeout = timeout;\n      xmlHttpRequest.addEventListener('timeout', function () {\n        _this.canceled = true;\n        clearTimeout(_this.timer);\n        _this.dispatchClientError('Timeout (' + timeout + 'ms)');\n      });\n\n      // PhantomJS doesn't support timeout for XMLHttpRequest\n      this.timer = setTimeout(function () {\n        _this.canceled = true;\n        _this.dispatchClientError('Timeout (' + timeout + 'ms)');\n      }, timeout + 1);\n    }\n  },\n  configureCallbacks: function configureCallbacks(xmlHttpRequest) {\n    var _this2 = this;\n\n    xmlHttpRequest.addEventListener('load', function () {\n      if (_this2.canceled) {\n        return;\n      }\n\n      clearTimeout(_this2.timer);\n      _this2.dispatchResponse(_this2.createResponse(xmlHttpRequest));\n    });\n\n    xmlHttpRequest.addEventListener('error', function () {\n      if (_this2.canceled) {\n        return;\n      }\n\n      clearTimeout(_this2.timer);\n      _this2.dispatchClientError('Network error');\n    });\n\n    var xhrOptions = this.options().XHR;\n    if (xhrOptions.withCredentials) {\n      xmlHttpRequest.withCredentials = true;\n    }\n\n    if (xhrOptions.configure) {\n      xhrOptions.configure(xmlHttpRequest);\n    }\n  },\n  performRequest: function performRequest(method) {\n    var requestMethod = this.shouldEmulateHTTP() ? 'post' : method;\n    var xmlHttpRequest = this.createXHR();\n    xmlHttpRequest.open(requestMethod, this.request.url(), true);\n\n    var customHeaders = {};\n    var body = this.prepareBody(method, customHeaders);\n    this.setHeaders(xmlHttpRequest, customHeaders);\n    this.configureTimeout(xmlHttpRequest);\n\n    var args = [];\n    body && args.push(body);\n\n    xmlHttpRequest.send.apply(xmlHttpRequest, args);\n  },\n  createResponse: function createResponse(xmlHttpRequest) {\n    var status = xmlHttpRequest.status;\n    var data = this.request.isBinary() ? xmlHttpRequest.response : xmlHttpRequest.responseText;\n    var responseHeaders = (0, _utils.parseResponseHeaders)(xmlHttpRequest.getAllResponseHeaders());\n    return new _response2.default(this.request, status, data, responseHeaders);\n  },\n  setHeaders: function setHeaders(xmlHttpRequest, customHeaders) {\n    var auth = this.request.auth();\n    if (auth) {\n      var username = auth.username || '';\n      var password = auth.password || '';\n      customHeaders['authorization'] = 'Basic ' + toBase64(username + ':' + password);\n    }\n\n    var headers = (0, _utils.assign)(customHeaders, this.request.headers());\n    Object.keys(headers).forEach(function (headerName) {\n      xmlHttpRequest.setRequestHeader(headerName, headers[headerName]);\n    });\n  },\n  createXHR: function createXHR() {\n    var xmlHttpRequest = new XMLHttpRequest(); // eslint-disable-line no-undef\n    this.configureCallbacks(xmlHttpRequest);\n    if (this.request.isBinary()) {\n      xmlHttpRequest.responseType = 'blob';\n    }\n    return xmlHttpRequest;\n  }\n});\n\nexports.default = XHR;\n\n\n// WEBPACK FOOTER //\n// ./lib/gateway/xhr.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _utils = require('./utils');\n\nvar _mappersmith = require('./mappersmith');\n\nvar _response = require('./response');\n\nvar _response2 = _interopRequireDefault(_response);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction Gateway(request) {\n  var configs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.request = request;\n  this.configs = configs;\n  this.successCallback = function () {};\n  this.failCallback = function () {};\n}\n\nGateway.extends = function (methods) {\n  return (0, _utils.assign)({}, Gateway.prototype, methods);\n};\n\nGateway.prototype = {\n  options: function options() {\n    return this.configs;\n  },\n  shouldEmulateHTTP: function shouldEmulateHTTP() {\n    return this.options().emulateHTTP && /^(delete|put|patch)/i.test(this.request.method());\n  },\n  call: function call() {\n    var _this = this,\n        _arguments = arguments;\n\n    var timeStart = (0, _utils.performanceNow)();\n    return new _mappersmith.configs.Promise(function (resolve, reject) {\n      _this.successCallback = function (response) {\n        response.timeElapsed = (0, _utils.performanceNow)() - timeStart;\n        resolve(response);\n      };\n\n      _this.failCallback = function (response) {\n        response.timeElapsed = (0, _utils.performanceNow)() - timeStart;\n        reject(response);\n      };\n\n      try {\n        _this[_this.request.method()].apply(_this, _arguments);\n      } catch (e) {\n        _this.dispatchClientError(e.message);\n      }\n    });\n  },\n  dispatchResponse: function dispatchResponse(response) {\n    response.success() ? this.successCallback(response) : this.failCallback(response);\n  },\n  dispatchClientError: function dispatchClientError(message) {\n    this.failCallback(new _response2.default(this.request, 400, message));\n  },\n  prepareBody: function prepareBody(method, headers) {\n    var body = this.request.body();\n\n    if (this.shouldEmulateHTTP()) {\n      body = body || {};\n      (0, _utils.isPlainObject)(body) && (body._method = method);\n      headers['x-http-method-override'] = method;\n    }\n\n    var bodyString = (0, _utils.toQueryString)(body);\n\n    if (bodyString) {\n      // If it's not simple, let the browser (or the user) set it\n      if ((0, _utils.isPlainObject)(body)) {\n        headers['content-type'] = 'application/x-www-form-urlencoded;charset=utf-8';\n      }\n    }\n\n    return bodyString;\n  }\n};\n\nexports.default = Gateway;\n\n\n// WEBPACK FOOTER //\n// ./lib/gateway.js","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./gateway/http (ignored)\n// module id = 10\n// module chunks = 0"],"sourceRoot":""}